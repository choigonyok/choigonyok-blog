<br>

# Choigonyok Blog

# 최고뇩 첫 번째 프로젝트 
**(두둥-)**
### 블로그 직접 개발하기~! ⭐️

당연한 이야기지만, 블로그를 개발하기 전 세웠던 계획은 블로그가 없어서 기록하지 못하고있었다.
그래도 글 게시 / 삭제 정도는 구현되었으니, 따로 기록해뒀던 것들을 옮겨적으려 한다.

<br>
<br>

# Contents
>
        1. Outline
        2. Why?
        3. What I want to learn
        4. Technologies Used
        5. Features
        6. Details
        7. ReFactorying
        8. What I actually learned
	9. Used source


<br><br>

## Outline
>>개발 / 공부 블로그=

프로젝트의 개발과정이나 배운 것들, 또 개인적으로 학습한 내용들을 정리할 수 있는 블로그


<br><br>

## Why?
>>앞으로 유용하게 사용할 수 있어서
>      
<br>
이제 막 개발에 열정을 가지고 달리기 시작했는데, 기록하는 것이 중요하다고 생각했다
<br><br>

>>첫 프로젝트라서
>
<br>
너무 흔한 프로젝트이기 때문에 오히려 프로젝트를 개발하다 부딪히는 문제점들을 해결하기 쉬울 것이다

<br><br>

## What I want to learn
* GO 실전 적용
* 프레임워크(Gin)의 역할
* DB 설계 및 커넥션
* 배포
* HTML, CSS 기초 지식

<br><br>

## Technologies Used
* Language : <mark>GO</mark>
* framework : <mark>Gin</mark>
* DB : <mark>MySQL</mark>
* Deploy : <mark>AWS lightsail</mark>
* Version managing : <mark>Git</mark> / <mark>Github</mark>

<br><br>

## Features

1. 글의 CRUD가 가능해야 함
2. 글이 카테고리 별로 분류되어야 함 ( 프로젝트, 공부, 후기 등 )
3. 글을 md 형식으로 작성할 수 있어야 함
4. 클라우드에 배포해서 언제든지 접속이 가능해야함

<br><br>

## Details

<br><br>

## ReFactorying

<br><br>

## What I actually learned

<br><br>

## Used sources
* HTML templates : https://html5up.net/editorial





<br>
<br>



# 진행상황 (추후 블로그에 기록용)

>
        ## 언젠가 구현할 것
        1. 맨 위로 스크롤 올려주는 버튼 구현
        2. 게시글 휴지통 기능(삭제/복원) 구현
        3. 앞뒤 글로 이동하기 기능
        4. 목록 되돌아가기 버튼
        5. 방문자 수 확인

        ## 구현하긴 해야할 것
        6. 글 길이 제한 풀기
        7. 폰트 전체적으로 **스타일하기**
        8. 게시판에서 본문 미리보기 다듬기(깃헙 마크다운 API 얘도 쓰거나, 아니면 마크다운 연산자 다 지워서 글만 남게 하거나 후자가 아마 더 보기 좋을 듯?)
        9. writing 탭을 누르면 로그인 페이지로 이동해서 인증시키기, 세션/토큰 등 구현
        10. Delete, Modify 버튼 누르면 인증시키기



ㄴ

# 5/19 (약 5시간)

개발 환경 설정 (디렉토리 준비, HTML 템플릿 적용, 깃허브 레포 생성 및 연동)
개발 시작
서버와의 접속 연결
HTML - 사이드바 이름 변경
기본 html template template(?) 핸들러 구현
홈페이지로 돌아오도록 리다이렉트 일부 구현
Gin engine 생성 후 template 전부 파싱, static resource 설정
* static resource가 있는 폴더로 경로를 설정했는데, 브라우저가 폴더 중 css, js는 읽는데 images파일들을 못읽는 문제 발생

## 다음에 구현할 것

~~1. Image static resources 오류 해결~~ (5/20) -> 상대경로와 절대경로에 대한 개념 익혔음
~~2. 핸들러 추가 구현~~ (5/20) -> 리다이렉션 몇가지 구현 (글 작성 이후 해당 글 카테고리 페이지로 이동 등)

## 느낀 점

1. FE 디자인은 생각보다 더 품이 많이 든다. 시간이 너무 많이 소요됨.
2. 메인 코드는 30줄 밖에 안썼지만 아무 클론할 예제 없이 혼자 머리 굴리며 0부터 시작하니까 너무 재밌음.
3. 깃허브에 커밋하고 푸시할 때마다 개발자 된 기분(?)


# 5/20 (약 5시간)
> 오늘의 하이라이트 = **깃허브 마크다운 API에 요청하고 응답받는 것**

* 사이드바 구현 완료
* db스키마 정의 완료
* 글 작성하면 카테고리별로 DB에 저장하는 기능 구현완료
* DB에 있는 글들을 읽어서 각 카테고리 별로 게시판에 정렬하는 기능 구현완료

## 다음에 구현할 것

~~* 게시판의 글들 클릭하면 자동으로 html 생성해서 내용 볼 수 있도록 구현하기 -> 정해진 html 하나에 실시간으로 글 데이터 따와서 구현하기~~ ->이거 하는데 하루종일 걸림


## 느낀 점

  1. 코드를 짜고, 짠 코드를 당일에 리뷰까지 하는 건 너무 버거운 것 같다 아직은
  2. 손목이 엄청 아프다. 괜히 개발자들이 비싼 키보드 사는게 아닌 것 같다.
  3. 문제를 해결하는 그 과정은 너무 짜릿한 것 같다.
  4. 클라이언트 쪽 지식이 있고 없고 차이가 프로그램의 완성도에 꽤 큰 영향을 미치는 것 같다.


# 5/21 (약 6시간)

* 게시판 별 게시글 리스트 구현
* 게시판에서 게시글 누르면 DB에서 Data 가져와서 게시글 볼 수 있도록 구현


 

## 다음에 구현할 것
* (오류) -> ~~글 작성 직후엔 마크다운이 잘 읽히는데, 게시판에서 글을 보면 안읽힘~~ -> 해결
* (한 번 밀림)~~그 페이지에서 삭제하면 게시판과 DB에서도 사라지도록 삭제기능 구현하기~~
* (한 번 밀림)~~그 페이지에서 수정하면 게시판과 DB에서도 수정되도록 수정기능 구현하기~~


## 느낀 점
> 오늘의 하이라이트 = **어디서든지 게시글을 누르면 같은 HTML을 렌더링하고 DB에서 데이터를 가져와 글을 표시하는 것**
1. 대략적인 블로그의 형식은 갖춰져가고 있다. 디자인은 엉망이긴 하지만...
2. 개발하다 막히는 대부분은 HTML, JS에 대한 지식이 없어서 막힘
막힐 거 알면서도 일단 부딪히면서 배우자~ 하고 시작했는데, 거의 매번 JS, HTML 문법만 보고 있음 ㅋㅋ 일단은 다 구현하고 공부해서 나중에 리팩토링하고 수정하면 될 듯. 일단은 MVP(Minimum visable program)을 목표로!
3. 이거 조졌다 싶어도 10시간정도 붙잡고있으면 결국 해결은 됨. 끈기 중요
4. 백엔드 클라우드에 관심이 있어서 프론트엔드는 생각도 안하고있었는데, 뭐든지 기본은 다 알 수 밖에 없는 것 같음. 아무것도 진행이 안됨 프론트 언어 모르니까 ㅠ
5. 프로젝트에 시간이 너무 많이 소요되다보니까 차라리 이론 공부를 하는게 더 유익할까 싶긴하지만, 직접 부딪히면서 머리는 기억못해도 몸이 배우기를 바랄뿐..

# 5/22 (약 6시간)

* 게시판에서 게시글 누르면 md 적용 안되는 것 해결
        핸들러 하나에, write하면 DB에 저장 / 게시글 보여주기 두 가지가 구현되어있었는데 분리
        게시판 종류별로 따로 html이 있던 걸 하나로 통합 -> 코드 수 100줄 가까이 줄음
* 게시물 안에서 수정/삭제 기능 구현
* 외래키/기본키 이용해서 카테고리별 id를 통합하는 whole table 구현


## 다음에 구현할 것


~~* 메인페이지 하단 최근 포스팅 기능 구현~~


## 느낀 점
> 오늘의 하이라이트 = **게시물 삭제시 게시물의 DB id num의 빈부분을 어떻게 처리할 것인가**

<br>

**1. 문제가 문제가 아닐 수 있다!?**
<br><br>
처음엔 중간에 id가 비면 뒤따라오는 모든 레코드의 id를 하나씩 앞으로 당겨야하나?
블로그 수준에서야 글이 많아야 100개 정도일테니 문제 없겠지만, 큰 규모의 서비스라면 id를 하나씩 다 옮기는데 리소스가 너무 낭비될 것임
> 생각해보니까 냅둬도 되잖아?

>>새 게시물을 작성 : DB의 가장 높은 id + 1로 레코드를 만듦 -> 중간 비어있어도 상관 X
>>게시물 접근(삭제,보기 등) : 어차피 게시물의 고유 id로 접근하는거라 중간이 비어있는 거랑은 상관 X

id 빈 곳을 어떻게 매꿀까 밖에서 내내 고민하다 들어와서 작업했는데, 생각보다 쉽게 풀려서 너무 다행이었다.
<br>
<br>

**2. 고치는 것보다 다시 시작하는 게 나을 수 있다.**
<br><br>
처음에 게시판을 보는 기능을 각 게시판마다 따로 HTML파일을 만들어뒀다. 사이드바나 헤더의 핸들러들을 수정하면 파일 3개를 같은 내용으로 수정해야하는 번거로움 발생.

초반에 후딱 다시 짜고 뒤에 편한게 낫겠다!

해서 다시 작업하니 코드 수도 100줄 정도 줄고, 코드 수가 줄다보니 전체적인 흐름이 더 한 눈에 들어오게 되어서 하길 잘한 것 같음.






# 5/23 

~~메인페이지 하단 최근 포스팅 기능 구현~~ 

~~게시글에 이미지 첨부 구현~~

~~게시글 삭제시 서버의 이미지 파일도 삭제 구현~~

~~게시판과 최근포스팅 목록에서 이미지 프리뷰 구현~~


## 다음에 구현할 것




## 느낀 점
<br>

**1. 풀리지 않는 문제가 있어 GO Forum을 이용했고, 문제가 해결되었음**

<br>

        파일을 create할 땐 string에 이름만 쓰는게 아니라 경로까지 써주면 된다!

        서버에 저장된 파일들은 정적파일리소스이고, static으로 꺼내야한다!

        **(가장중요)GO는 NULL을 처리하지 못한다! DB의 경우 NULL을 0으로 바꿔주는 COALESCE([column], '0')을 이용해야한다!**


개발하다보니 MVP로 대충 이정도면 내가 혼자 쓰기엔 무리가 없겠는데, 싶은 생각이 잠깐 들었다.
그러다 블로그 개발을 처음 시작하게 된 마음을 다시 떠올렸다.
내가 블로그 기능이 필요해서 개발하기 시작했나? 그럴거면 티스토리나 네이버 블로그 썼지!
공부하기 위해서였잖아! 또 그 동안 공부한 걸 적용해보기 위해서고!
목적을 잊지말자!!



<br>

**2. 가독성이 좋은 코드를 짜는 것이 중요하다**

<br>

특히 나처럼 아직 실력이 미천할 경우, 요구사항이 추가로 생겼을 때, 혹은 문제점을 발견했을 때, 코드를 다시 읽고 수정해야하는데, 코드가 길어질수록 내가 짠 코드임에도 불구하고 확 눈에 들어오지 않는 것을 발견
나중에 배포까지 하더라도 유지, 보수를 계속 하게될텐데 그때마다 많은 시간을 들여가며 코드를 해석해야한다?
처음부터 코드를 가독성 있게 짜는 게 좋겠다!!
가독성 좋은 코드란?

>에러처리
```
err := nil {log.fatalln(err)}
```

보다는

```
err := nil {
        log.fatalln(err)
}
```

<br>

> 변수이름
```
var a, aa, aaa int
```

보다는

```
var project_num, review_num, study_num int
```

<br>

> 쿼리문 작성
```
c.Query("SELECT * FROM table")
```

보다는

```
query := "SELECT * FROM table"
c.Query(query)
```

### 클린코드 / 리팩토링 읽어보기 
<br>

## 생긴 궁금증
* 경로 앞에 . 가 있고 없고의 차이?



# 클린아키텍처

1부 : 아키텍처와 행위
아키텍처 : 변경, 유지보수가 수움
행위 : 기능이 좋음 (빠름, 잘 작동함)
아키텍처가 더 선순위다
그래야 개발비용이 줄어든다
이해관게자는 당장 시스템이 작동하는가에만 관심을 가지게된다.
소프트웨어 개발자는 행위 말고도 아키텍처에 더 비중을 둬야한다.



# 5/24 

~~* 글 누르면 이미지 같이 보도록~~
~~(한 번 밀림) 검색기능 구현 ~~ -> id 순으로 sorting해서 최신 게시글부터 검색 결과를 볼 수 있게 함
~~검색 결과가 없으면 없음을 알리는 html 렌더링~~
~~이미지 없이도 게시글 작성할 수 있게 구현 ( 디폴트 이미지로 등록됨 )~~
~~게시글 작성 / 수정 / 삭제 시 로그인확인 기능 구현 -> 로그인 안되어있으면 리다이렉션 -> 로그인하면 쿠키 발급~~